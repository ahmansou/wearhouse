{"ast":null,"code":"var _jsxFileName = \"/Users/Benny/Projects/wearhouse/src/App.js\";\nimport React, { Component } from 'react';\nimport Aux from './hoc/Aux';\nimport Layout from './components/Layout/Layout';\nimport Cover from './components/UI/Cover/Cover';\nimport BestFor from './components/BestFor/BestFor';\nimport Selection from './components/Selection/Selection';\nimport Coupon from './components/Coupon/Coupon';\nimport productImg from './assets/product.jpg'; // import BackDrop from './components/UI/BackDrop/BackDrop'\n\nimport './App.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [{\n        id: '1',\n        name: 'bag1',\n        price: 199.99,\n        image: productImg,\n        description: 'Description1',\n        stock: 100\n      }, {\n        id: '2',\n        name: 'bag2',\n        price: 299.99,\n        image: productImg,\n        description: 'Description2',\n        stock: 4000\n      }, {\n        id: '3',\n        name: 'bag3',\n        price: 399.99,\n        image: productImg,\n        description: 'Description3',\n        stock: 23000\n      }, {\n        id: '4',\n        name: 'bag4',\n        price: 499.99,\n        image: productImg,\n        description: 'Description4',\n        stock: 10000\n      }, {\n        id: '5',\n        name: 'bag5',\n        price: 599.99,\n        image: productImg,\n        description: 'Description5',\n        stock: 100000\n      }, {\n        id: '6',\n        name: 'bag6',\n        price: 699.99,\n        image: productImg,\n        description: 'Description6',\n        stock: 10000\n      }],\n      cart: [],\n      totalCartPrice: 0\n    };\n\n    this.calculTotalCartPrice = () => {\n      let totalPrice = 0;\n\n      for (const index in this.state.cart) {\n        totalPrice += this.state.cart[index].prd.price * this.state.cart[index].qnt;\n      }\n\n      this.setState({});\n    };\n\n    this.checkIfExistIncart = newPrd => {\n      for (const index in this.state.cart) {\n        if (newPrd.id === this.state.cart[index].prd.id) {\n          console.log('prd', this.state.cart[index]);\n          console.log('index', index);\n          return index;\n        }\n      }\n\n      return -1;\n    };\n\n    this.addToCart = (product, quantity) => {\n      if (quantity <= product.stock) {\n        const index = this.checkIfExistIncart(product);\n        console.log('return', index);\n\n        if (index > -1) {\n          let cartUpdated = [...this.state.cart];\n          const prd = { ...cartUpdated[index]\n          };\n          prd.qnt += quantity;\n          console.log('prdouct', prd);\n          console.log('prdouct quantity', product.stock);\n\n          if (prd.qnt <= product.stock) {\n            cartUpdated[index] = prd;\n            this.setState({\n              cart: cartUpdated\n            });\n          }\n        } else this.setState({\n          cart: [...this.state.cart, {\n            prd: product,\n            qnt: quantity\n          }]\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Aux, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      cart: this.state.cart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.addToCart(this.state.products[0], 3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"dada\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.addToCart(this.state.products[2], 5),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"dada\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.addToCart(this.state.products[3], 100),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"dada\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.addToCart(this.state.products[4], 100),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, \"dada\"), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => this.addToCart(this.state.products[5], 100),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, \"dada\"), /*#__PURE__*/React.createElement(Cover, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(BestFor, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Selection, {\n      products: this.state.products,\n      cart: this.state.cart,\n      addToCart: this.addToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Coupon, {\n      amount: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Benny/Projects/wearhouse/src/App.js"],"names":["React","Component","Aux","Layout","Cover","BestFor","Selection","Coupon","productImg","App","state","products","id","name","price","image","description","stock","cart","totalCartPrice","calculTotalCartPrice","totalPrice","index","prd","qnt","setState","checkIfExistIncart","newPrd","console","log","addToCart","product","quantity","cartUpdated","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,UAAP,MAAuB,sBAAvB,C,CACA;;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAN,SAAkBR,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAC1BS,KAD0B,GAClB;AACNC,MAAAA,QAAQ,EAAE,CACR;AAACC,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,IAAI,EAAE,MAAhB;AAAwBC,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,KAAK,EAAEP,UAA9C;AAA0DQ,QAAAA,WAAW,EAAE,cAAvE;AAAuFC,QAAAA,KAAK,EAAE;AAA9F,OADQ,EAER;AAACL,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,IAAI,EAAE,MAAhB;AAAwBC,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,KAAK,EAAEP,UAA9C;AAA0DQ,QAAAA,WAAW,EAAE,cAAvE;AAAuFC,QAAAA,KAAK,EAAE;AAA9F,OAFQ,EAGR;AAACL,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,IAAI,EAAE,MAAhB;AAAwBC,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,KAAK,EAAEP,UAA9C;AAA0DQ,QAAAA,WAAW,EAAE,cAAvE;AAAuFC,QAAAA,KAAK,EAAE;AAA9F,OAHQ,EAIR;AAACL,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,IAAI,EAAE,MAAhB;AAAwBC,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,KAAK,EAAEP,UAA9C;AAA0DQ,QAAAA,WAAW,EAAE,cAAvE;AAAuFC,QAAAA,KAAK,EAAE;AAA9F,OAJQ,EAKR;AAACL,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,IAAI,EAAE,MAAhB;AAAwBC,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,KAAK,EAAEP,UAA9C;AAA0DQ,QAAAA,WAAW,EAAE,cAAvE;AAAuFC,QAAAA,KAAK,EAAE;AAA9F,OALQ,EAMR;AAACL,QAAAA,EAAE,EAAE,GAAL;AAAUC,QAAAA,IAAI,EAAE,MAAhB;AAAwBC,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,KAAK,EAAEP,UAA9C;AAA0DQ,QAAAA,WAAW,EAAE,cAAvE;AAAuFC,QAAAA,KAAK,EAAE;AAA9F,OANQ,CADJ;AASNC,MAAAA,IAAI,EAAE,EATA;AAUNC,MAAAA,cAAc,EAAE;AAVV,KADkB;;AAAA,SAc1BC,oBAd0B,GAcH,MAAM;AAC3B,UAAIC,UAAU,GAAG,CAAjB;;AACA,WAAK,MAAMC,KAAX,IAAoB,KAAKZ,KAAL,CAAWQ,IAA/B,EAAqC;AACnCG,QAAAA,UAAU,IAAI,KAAKX,KAAL,CAAWQ,IAAX,CAAgBI,KAAhB,EAAuBC,GAAvB,CAA2BT,KAA3B,GAAmC,KAAKJ,KAAL,CAAWQ,IAAX,CAAgBI,KAAhB,EAAuBE,GAAxE;AACD;;AACD,WAAKC,QAAL,CAAc,EAAd;AACD,KApByB;;AAAA,SAsB1BC,kBAtB0B,GAsBJC,MAAD,IAAY;AAC/B,WAAK,MAAML,KAAX,IAAoB,KAAKZ,KAAL,CAAWQ,IAA/B,EAAqC;AACnC,YAAIS,MAAM,CAACf,EAAP,KAAc,KAAKF,KAAL,CAAWQ,IAAX,CAAgBI,KAAhB,EAAuBC,GAAvB,CAA2BX,EAA7C,EAAiD;AAC/CgB,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB,KAAKnB,KAAL,CAAWQ,IAAX,CAAgBI,KAAhB,CAAnB;AACAM,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBP,KAArB;AACA,iBAAOA,KAAP;AACD;AACF;;AACD,aAAO,CAAC,CAAR;AACD,KA/ByB;;AAAA,SAiC1BQ,SAjC0B,GAiCd,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACjC,UAAIA,QAAQ,IAAID,OAAO,CAACd,KAAxB,EAA+B;AAC7B,cAAMK,KAAK,GAAG,KAAKI,kBAAL,CAAwBK,OAAxB,CAAd;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBP,KAAtB;;AACA,YAAIA,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,cAAIW,WAAW,GAAG,CAAC,GAAG,KAAKvB,KAAL,CAAWQ,IAAf,CAAlB;AACA,gBAAMK,GAAG,GAAG,EAAC,GAAGU,WAAW,CAACX,KAAD;AAAf,WAAZ;AACAC,UAAAA,GAAG,CAACC,GAAJ,IAAWQ,QAAX;AACAJ,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,GAAvB;AACAK,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCE,OAAO,CAACd,KAAxC;;AACA,cAAIM,GAAG,CAACC,GAAJ,IAAWO,OAAO,CAACd,KAAvB,EAA8B;AAC5BgB,YAAAA,WAAW,CAACX,KAAD,CAAX,GAAqBC,GAArB;AACA,iBAAKE,QAAL,CAAc;AAACP,cAAAA,IAAI,EAAEe;AAAP,aAAd;AACD;AACF,SAVD,MAYE,KAAKR,QAAL,CAAc;AAACP,UAAAA,IAAI,EAAE,CAAC,GAAG,KAAKR,KAAL,CAAWQ,IAAf,EAAqB;AAACK,YAAAA,GAAG,EAAEQ,OAAN;AAAeP,YAAAA,GAAG,EAAEQ;AAApB,WAArB;AAAP,SAAd;AACH;AACF,KAnDyB;AAAA;;AAsD1BE,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAKxB,KAAL,CAAWQ,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAK,MAAA,OAAO,EAAE,MAAM,KAAKY,SAAL,CAAe,KAAKpB,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAf,EAAuC,CAAvC,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAK,MAAA,OAAO,EAAE,MAAM,KAAKmB,SAAL,CAAe,KAAKpB,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAf,EAAuC,CAAvC,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAK,MAAA,OAAO,EAAE,MAAM,KAAKmB,SAAL,CAAe,KAAKpB,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAf,EAAuC,GAAvC,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE;AAAK,MAAA,OAAO,EAAE,MAAM,KAAKmB,SAAL,CAAe,KAAKpB,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAf,EAAuC,GAAvC,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAK,MAAA,OAAO,EAAE,MAAM,KAAKmB,SAAL,CAAe,KAAKpB,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAf,EAAuC,GAAvC,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAOE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,eAQE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,eASE,oBAAC,SAAD;AACE,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADvB;AAEE,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWQ,IAFnB;AAGE,MAAA,SAAS,EAAE,KAAKY,SAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,eAcE,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,CADF,CADF;AAoBD;;AA3EyB;;AA8E5B,eAAerB,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport Aux from './hoc/Aux';\nimport Layout from './components/Layout/Layout';\nimport Cover from './components/UI/Cover/Cover';\nimport BestFor from './components/BestFor/BestFor';\nimport Selection from './components/Selection/Selection';\nimport Coupon from './components/Coupon/Coupon';\nimport productImg from './assets/product.jpg';\n// import BackDrop from './components/UI/BackDrop/BackDrop'\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    products: [\n      {id: '1', name: 'bag1', price: 199.99, image: productImg, description: 'Description1', stock: 100},\n      {id: '2', name: 'bag2', price: 299.99, image: productImg, description: 'Description2', stock: 4000},\n      {id: '3', name: 'bag3', price: 399.99, image: productImg, description: 'Description3', stock: 23000},\n      {id: '4', name: 'bag4', price: 499.99, image: productImg, description: 'Description4', stock: 10000},\n      {id: '5', name: 'bag5', price: 599.99, image: productImg, description: 'Description5', stock: 100000},\n      {id: '6', name: 'bag6', price: 699.99, image: productImg, description: 'Description6', stock: 10000},\n    ],\n    cart: [],\n    totalCartPrice: 0,\n  }\n\n  calculTotalCartPrice = () => {\n    let totalPrice = 0;\n    for (const index in this.state.cart) {\n      totalPrice += this.state.cart[index].prd.price * this.state.cart[index].qnt;\n    }\n    this.setState({})\n  }\n\n  checkIfExistIncart = (newPrd) => {\n    for (const index in this.state.cart) {\n      if (newPrd.id === this.state.cart[index].prd.id) {\n        console.log('prd', this.state.cart[index])\n        console.log('index', index)\n        return index\n      }\n    }\n    return -1\n  }\n\n  addToCart = (product, quantity) => {\n    if (quantity <= product.stock) {\n      const index = this.checkIfExistIncart(product)\n      console.log('return', index)\n      if (index > -1) {\n        let cartUpdated = [...this.state.cart];\n        const prd = {...cartUpdated[index]}\n        prd.qnt += quantity\n        console.log('prdouct', prd)\n        console.log('prdouct quantity', product.stock)\n        if (prd.qnt <= product.stock) {\n          cartUpdated[index] = prd\n          this.setState({cart: cartUpdated})\n        }\n      }\n      else\n        this.setState({cart: [...this.state.cart, {prd: product, qnt: quantity}]});\n    }\n  }\n\n\n  render() {\n    return (\n      <Aux>\n        <Layout cart={this.state.cart} >\n          \n          <div onClick={() => this.addToCart(this.state.products[0], 3)} >dada</div>\n          <div onClick={() => this.addToCart(this.state.products[2], 5)} >dada</div>\n          <div onClick={() => this.addToCart(this.state.products[3], 100)} >dada</div>\n          <div onClick={() => this.addToCart(this.state.products[4], 100)} >dada</div>\n          <div onClick={() => this.addToCart(this.state.products[5], 100)} >dada</div>\n          <Cover />\n          <BestFor />\n          <Selection \n            products={this.state.products}\n            cart={this.state.cart}\n            addToCart={this.addToCart} \n            />\n          <Coupon amount=\"5\" />\n        </Layout>\n      </Aux>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}